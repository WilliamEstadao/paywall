<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="styles.css" media="screen" />
    <title>Document</title>
</head>

<body>
    <main class="background">
        <div class="modal">
            <div class="master-template">
                <div class="initial-text-button">
                    <p style="font-size: 16px; color:#717171; font-weight: 800">Já sou assinante.</p>
                    <a target="_blank" href="https://acesso.estadao.com.br/login/?r=https://www.estadao.com.br/">
                        <button class="button-newpaywall"> Entrar </button> </a>
                </div>
                <div class="title-subtitle">
                    <h2 style="font-size: 22px; color:black;font-family:EstadoFine;font-weight:800;">Assine o melhor
                        jornal do Brasil</h2>
                    <h3 style="font-size: 16px;font-weight: 600;color:#2575e8;font-style: italic;">Escolha o melhor
                        plano:</h3>
                </div>
                <div class="card-selector">
                    <div class="digital" id="selected" onclick="replaceOffer('digital')">
                        DIGITAL
                    </div>
                    <div class="impresso" id="notselected" onclick="replaceOffer('impresso')">
                        IMPRESSO
                    </div>
                </div>
                <div id="offer-digital" style="margin-left: 25px;margin-right: 25px;">
                    <div class="voucher1-digital">
                        <p>Recomendamos</p>
                    </div>
                    <div class="highlight-offer">
                        <div>
                            <h2 class="title-offer">DIGITAL COMPLETA + R$30 CARREFOUR</h2>
                            <h3 class="subtitle-offer"><span style="text-decoration: line-through;">R$190,80/ano
                                </span><span style="font-size: 14px;font-weight: 800;">R$106,90</span>/ano* </h3>
                            <p class="text-offer">Inclui acesso ao Estadão.com.br, aplicativo IOS e Android,<br />
                                versão digital e Acervo Estadão</p>
                        </div>
                        <div class="circle" id="circle-digital-anual" onclick="chosenOfferDigital('digital-anual')">
                        </div>
                    </div>
                    <div class="voucher2-digital">
                        <p>por tempo limitado</p>
                    </div>
                    <div class="offer">
                        <div class="offer-texts">
                            <h2 class="title-offer">DIGITAL COMPLETA</h2>
                            <h3 class="subtitle-offer"><span style="text-decoration: line-through;">R$21,90/mês
                                </span><span style="color:#2575e8;font-size: 14px;font-weight: 800;">R$1,90</span>/mês*
                            </h3>
                            <p class="text-offer">Nos 3 primeiros meses</p>
                            <p class="text-offer">Inclui acesso ao Estadão.com.br, aplicativo
                                IOS e Android</p>
                        </div>
                        <div class="circle" id="circle-digital-mensal" onclick="chosenOfferDigital('digital-mensal')">
                        </div>
                    </div>
                </div>

                <div id="offer-impresso"
                    style="display: none; flex-direction: column;margin-left: 25px;margin-right: 25px;">
                    <div class="voucher1-impresso">
                        <p>+ R$30 CARREFOUR</p>
                    </div>
                    <div class="offer1-impresso">
                        <div>
                            <h2 class="title-offer" style="color:#2575e8; font-weight: bold;">IMPRESSO + DIGITAL</h2>
                            <h3 class="subtitle-offer"><span style="text-decoration: line-through;">R$46,90/mês
                                </span><span
                                    style="font-size: 14px;font-weight: 800;color: #2575e8;">R$24,90</span>/mês* </h3>
                            <p class="text-offer">Inclui “O Estado de S. Paulo <span
                                    style="color:#2575e8">Impresso</span> com entrega <br />
                                nos <span style="color:#2575e8">fins de semana</span>, acesso ao Estadão.com.br, <br />
                                aplicativo IOS e Android, versão digital e Acervo Estadão</p>
                        </div>
                        <div class="circle" id="circle-impresso-weekends"
                            onclick="chosenOfferImpresso('impresso-weekends')"></div>
                    </div>
                    <div class="voucher2-impresso">
                        <p>+ R$50 SUBMARINO</p>
                    </div>
                    <div class="offer2-impresso">
                        <div class="offer-texts">
                            <h2 class="title-offer" style="color: #2575e8;">IMPRESSO + DIGITAL</h2>
                            <h3 class="subtitle-offer"><span style="text-decoration: line-through;">R$74,90/mês
                                </span><span style="color:#2575e8;font-size: 14px;font-weight: 800;">R$56,90</span>/mês*
                            </h3>
                            <p class="text-offer">Nos 3 primeiros meses</p>
                            <p class="text-offer">Inclui “O Estado de S. Paulo <span
                                    style="color:#2575e8">Impresso</span> com entrega <br />
                                nos <span style="color:#2575e8">todos os dias</span>, acesso ao Estadão.com.br, <br />
                                aplicativo IOS e Android, versão digital e Acervo Estadão</p>
                        </div>
                        <div class="circle" id="circle-impresso-everyday"
                            onclick="chosenOfferImpresso('impresso-everyday')"></div>
                    </div>
                </div>
                <button class="continue" onclick="goOffer()">continuar</button>
                <p style="font-size: 12px; color: #717171;">Cancele quando quiser</p>
                <footer>
                    <svg style="width:15px;margin-right:2px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M22 12V8a6 6 0 0 0-12 0v4H4v12a5 5 0 0 0 5 5h14a5 5 0 0 0 5-5V12ZM12 8a4 4 0 0 1 8 0v4h-8Zm14 16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V14h20Z"
                            fill="#717171" class="fill-000000"></path>
                    </svg>

                    <p style="color:#717171">Ambiente Seguro</p>
                </footer>

            </div>

        </div>
    </main>

</body>
<script>

    let goOffer = () => {
        const imgAnual = document.getElementById('img-digital-anual')
        const imgMensal = document.getElementById('img-digital-mensal')
        const imgEveryDay = document.getElementById('img-impresso-everyday')
        const imgWeekends = document.getElementById('img-impresso-weekends')
        console.log('click')
        if (imgAnual) {
            window.open("https://assine.estadao.com.br/subscribe/estadao-digital-completa-10690-carrefour-aa170014");
        } else if (imgMensal) {
            window.open("https://assine.estadao.com.br/subscribe/estadao-digital-completa-190-2190-am170097")
        } else if (imgEveryDay) {
            window.open("https://assine.estadao.com.br/subscribe/estadao-impresso-em-casa-5690-7490-am170089")
        } else if (imgWeekends) {
            window.open("https://assine.estadao.com.br/subscribe/estadao-impresso-em-casa-2490-4690-carrefour-am370029")
        } else {
            alert('escolha uma oferta e aproveite')
        }
    }

    let replaceOffer = (text) => {

        let digital = document.querySelector('.digital')
        let impresso = document.querySelector('.impresso')
        let offerDigital = document.getElementById('offer-digital')
        let offerImpresso = document.getElementById('offer-impresso')
        const imgAnual = document.getElementById('img-digital-anual')
        const imgMensal = document.getElementById('img-digital-mensal')
        const imgEveryDay = document.getElementById('img-impresso-everyday')
        const imgWeekends = document.getElementById('img-impresso-weekends')

        if (text === 'digital') {
            if (imgEveryDay || imgWeekends) {
                imgEveryDay && imgEveryDay.parentNode.removeChild(imgEveryDay)
                imgWeekends && imgWeekends.parentNode.removeChild(imgWeekends)
            }

            let attributeId = digital.getAttribute('id')
            if (attributeId === 'notselected') {
                digital.setAttribute('id', 'selected')
                impresso.setAttribute('id', 'notselected')
                offerImpresso.style.display = "none"
                offerDigital.style.display = ""
            }

        }
        if (text === 'impresso') {
            if (imgAnual || imgMensal) {
                imgAnual && imgAnual.parentNode.removeChild(imgAnual)
                imgMensal && imgMensal.parentNode.removeChild(imgMensal)
            }
            let idAttribute = impresso.getAttribute('id')
            if (idAttribute === 'notselected') {
                impresso.setAttribute('id', 'selected')
                digital.setAttribute('id', 'notselected')
                offerDigital.style.display = "none"
                offerImpresso.style.display = "flex"
            }
        }

    }
    let chosenOfferDigital = (offer) => {
        const circleAnual = document.getElementById('circle-digital-anual')
        const circleMensal = document.getElementById('circle-digital-mensal')
        const imgAnual = document.getElementById('img-digital-anual')
        const imgMensal = document.getElementById('img-digital-mensal')


        const image = new Image(14.9)
        image.src = 'https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/512/Tick_Mark-256.png'
        if (offer === 'digital-anual') {
            if (!imgAnual) {
                image.id = "img-digital-anual"
                circleAnual.appendChild(image);
                imgMensal && imgMensal.parentNode.removeChild(imgMensal)
            } else {
                imgAnual.parentNode.removeChild(imgAnual)
            }

        } else {
            if (offer === 'digital-mensal') {
                if (!imgMensal) {
                    image.id = "img-digital-mensal"
                    circleMensal.appendChild(image);
                    imgAnual && imgAnual.parentNode.removeChild(imgAnual)
                } else {
                    imgMensal.parentNode.removeChild(imgMensal)
                }
            }
        }
    }
    let chosenOfferImpresso = (offer) => {
        const circleEveryDay = document.getElementById('circle-impresso-everyday')
        const circleWeekends = document.getElementById('circle-impresso-weekends')
        const imgEveryDay = document.getElementById('img-impresso-everyday')
        const imgWeekends = document.getElementById('img-impresso-weekends')

        const image = new Image(40)
        image.src = 'https://cdn-icons-png.flaticon.com/512/9918/9918684.png'
        if (offer === 'impresso-everyday') {
            if (!imgEveryDay) {
                image.id = "img-impresso-everyday"
                circleEveryDay.appendChild(image);
                imgWeekends && imgWeekends.parentNode.removeChild(imgWeekends)
            } else {
                imgEveryDay.parentNode.removeChild(imgEveryDay)
            }

        } else {
            if (offer === 'impresso-weekends') {
                if (!imgWeekends) {
                    image.id = "img-impresso-weekends"
                    circleWeekends.appendChild(image);
                    imgEveryDay && imgEveryDay.parentNode.removeChild(imgEveryDay)
                } else {
                    imgWeekends.parentNode.removeChild(imgWeekends)
                }
            }
        }
    }
</script>

</html>